parent_categories = [ "Pro", "Projets" ]
child_categories = [ "Hôtels", "Immobilier", "E-1", "R2000", "Micro-studio" ]
insect_links = [ "https://res.cloudinary.com/paulpphoto/image/upload/v1582470717/2017-08-01_01-35-50_C_plat_fnsept.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470713/Ce%CC%81toine_IVa_jpeg1x1_jktftc.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470713/Ce%CC%81toine_II_jpeg1x1_jzituk.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470714/Carre%CC%81_rtnvkb.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470713/Ce%CC%81toine_I_compresse%CC%81_1x1_iyijmc.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470713/Ce%CC%81toine_V_jpeg1x1_brqugs.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470712/Ce%CC%81toine_VII_jpeg1x1_jdr7bl.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470712/Ce%CC%81toine_VI_jpeg1x1_u1uiir.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470712/HOPLIA_V2_plat_yvqn6d.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470712/Ce%CC%81toine_VIII_jpeg1x1_rt0kns.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470709/Insecte_jaune_JPEG_yes2ov.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470709/PROJET2-Masterise%CC%81_et_corrige%CC%81V3_TIFF2_copie_512_Mp_sortie_finale_t2mskw.jpg" ]
e_1_links = [ "https://res.cloudinary.com/paulpphoto/image/upload/v1582470711/E-01_-_01_fzot9f.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470711/E-01_-_03_ttnvor.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470711/E-01_-_04_he8uwb.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470710/E-01_-_05_ijawte.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470710/E-01_-_02_m4sh7v.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470709/E-01_-_06_ft56f1.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470708/E-01_-_07_zy3lfu.jpg" ]
r2000_links = [ "https://res.cloudinary.com/paulpphoto/image/upload/v1582470707/Se%CC%81rie_Archi1A_-_01_copie_pqy8fd.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470707/Se%CC%81rie_Archi1A_-_08_copie_lwpn2a.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470707/Se%CC%81rie_Archi1A_-_09_copie_bty1nj.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470706/Se%CC%81rie_Archi1A_-_04_copie_owo8ir.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470706/Se%CC%81rie_Archi1A_-_07_uhjvoz.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470706/Se%CC%81rie_Archi1A_-_06_copie_a3qidb.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582470706/Se%CC%81rie_Archi1A_-_03_copie_dtmmjk.jpg" ]
hotel_links = [ "https://res.cloudinary.com/paulpphoto/image/upload/v1582547694/TheOriginals_-_La_Mare_aux_Oiseaux_-_01_vvgwb9.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547694/TheOriginals_-_La_Mare_aux_Oiseaux_-_02_dm8cpe.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547694/TheOriginals_-_La_Mare_aux_Oiseaux_-_03_pxjoa4.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547694/TheOriginals_-_L_Atrium_-_01_n4mwrd.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547693/TheOriginals_-_La_Tour_Intendance_-_02_itnrih.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547693/TheOriginals_-_Saint-Laurent_-_02_lwkd5r.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547692/TheOriginals_-_Saint-Laurent_-_04_mgn908.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547693/TheOriginals_-_La_Tour_Intendance_-_02_itnrih.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547692/TheOriginals_-_Saint-Laurent_-_03_zlm52m.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547692/TheOriginals_-_Cha%CC%82teau_de_Dissay_-_01_j5qanm.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547690/TheOriginals_-_Domaine_de_la_Charpinie%CC%80re_-_01_qxdrqt.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547691/TheOriginals_-_Cha%CC%82teau_de_Dissay_-_04_i94fj5.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547690/TheOriginals_-_Domaine_de_la_Charpinie%CC%80re_-_03_cnfaba.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547688/TheOriginals_-_Ho%CC%82tel_de_France_-_01_x77fvy.jpg" ]
immo_links = [ "https://res.cloudinary.com/paulpphoto/image/upload/v1582547688/005_-_Exterieur_hsfdg0.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547687/003_-_Exterieur_jwxrdp.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547687/006_-_Exterieur_ratocg.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547686/007_-_Exterieur_tcv9ci.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547685/010_-_Autre_gugqgk.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547685/008_-_Autre_cqdnt4.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547685/009_-_Autre_knzugu.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547685/011_-_Cuisine_fx5yvo.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547685/012_-_Cuisine_athzrl.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547684/017_-_Cuisine_ybfx74.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547683/018_-_Chambre_q2tv4e.jpg", "https://res.cloudinary.com/paulpphoto/image/upload/v1582547682/030_-_Salon_tzikie.jpg" ]

puts "\nSTART SEEDING"

  puts "\nDestroying database"
  photo_count = Photo.count
    Photo.all.each_with_index do |photo, i|
      puts "Destroying pic n°#{i}/#{photo_count}"
      photo.destroy!
    end
    ChildCategory.destroy_all
    ParentCategory.destroy_all
    User.destroy_all
  puts "Everything has been destroyed"

  puts "\nCreating user"
    User.create!(email: "test@test.com", password: 'azerty', password_confirmation: 'azerty') if Rails.env.development?
  puts "User created"

  puts "\nCreating Parent categories"
    parent_categories.each { |cat| ParentCategory.create!(title: cat) }
  puts "Parent categories created"

  puts "\nCreating Child categories"
    child_categories.each_with_index do |cat, i|
      i < 2 ? ChildCategory.create!(title: cat, parent_category: ParentCategory.find_by(title: "Pro")) : ChildCategory.create!(title: cat, parent_category: ParentCategory.find_by(title: "Projets"))
    end
  puts "Child categories created"

  puts "\nCreating photos"

    nb_de_tours = 1
    tour = 1

    nb_de_tours.times do
      puts "\nTour n°#{tour} sur #{nb_de_tours}\n"

      puts "\nInsects photos creation (#{insect_links.length})"

        insect_links.each_with_index do |link, i|
          photo_insect = Photo.new(name: "Insecte#{i+1}", description: "Insecte n°#{i+1} super stylé", child_category: ChildCategory.find_by(title: "Micro-studio"))
          photo_insect.parent_category_id = photo_insect.child_category.parent_category_id
          photo_insect.photo.attach(io: URI.open(link), filename: "Photo Insecte n°#{i+1}", content_type: "image/jpg")
          photo_insect.save!
          puts "Photo n°#{i+1} created"
        end

      puts "Insects photos created"

      puts "\nE_1 photos creation (#{e_1_links.length})"

        e_1_links.each_with_index do |link, i|
          photo_e1 = Photo.new(name: "E-1 - #{i+1}", description: "E-1 n°#{i+1} de ouf", child_category: ChildCategory.find_by(title: "E-1"))
          photo_e1.parent_category_id = photo_e1.child_category.parent_category_id
          photo_e1.photo.attach(io: URI.open(link), filename: "Photo E-1 n°#{i+1}", content_type: "image/jpg")
          photo_e1.save!
          puts "Photo n°#{i+1} created"
        end

      puts "E-1 photos created"

      puts "\nR2000 photos creation (#{r2000_links.length})"

        r2000_links.each_with_index do |link, i|
          photo_r2000 = Photo.new(name: "R2000 - #{i+1}", description: "R2000 n°#{i+1} waou", child_category: ChildCategory.find_by(title: "R2000"))
          photo_r2000.parent_category_id = photo_r2000.child_category.parent_category_id
          photo_r2000.photo.attach(io: URI.open(link), filename: "Photo R2000 n°#{i+1}", content_type: "image/jpg")
          photo_r2000.save!
          puts "Photo n°#{i+1} created"
        end

      puts "R2000 photos created"

      puts "\nHotel photos creation (#{hotel_links.length})"

        hotel_links.each_with_index do |link, i|
          photo_hotel = Photo.new(name: "Hotel - #{i+1}", description: "Hotel n°#{i+1} amazing", child_category: ChildCategory.find_by(title: "Hôtels"))
          photo_hotel.parent_category_id = photo_hotel.child_category.parent_category_id
          photo_hotel.photo.attach(io: URI.open(link), filename: "Photo Hotel n°#{i+1}", content_type: "image/jpg")
          photo_hotel.save!
          puts "Photo n°#{i+1} created"
        end

      puts "R2000 photos created"

      puts "\nImmobilier photos creation (#{immo_links.length})"

        immo_links.each_with_index do |link, i|
          photo_immo = Photo.new(name: "Immo - #{i+1}", description: "Immo n°#{i+1} waou", child_category: ChildCategory.find_by(title: "Immobilier"))
          photo_immo.parent_category_id = photo_immo.child_category.parent_category_id
          photo_immo.photo.attach(io: URI.open(link), filename: "Photo Immo n°#{i+1}", content_type: "image/jpg")
          photo_immo.save!
          puts "Photo n°#{i+1} created"
        end

      puts "Immobilier photos created"

      tour += 1
    end

  puts "\nCreating photos done"

puts "\nSEEDING DONE"
